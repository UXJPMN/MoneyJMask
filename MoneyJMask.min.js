var masks;function addDots(e,t){if(e.length<7)return;let n=e.split(",");t.value=n[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")+","+n[1]}function inputRestrict(e,t){if(t.inputType.indexOf("insert")>-1){let n=e.value;if(n.split("")[n.length-1].match(/[0-9\,]/)){const s=n.indexOf(",");if(!(s>-1))return;if(n.match(/(,).*(\1)/))return void(e.value=n.substring(0,n.length-1));n.length>s+3&&t.target.selectionStart>s&&(e.value=n.substring(0,n.length-1))}else e.value=n.substring(0,n.length-1)}}function createMask(e){let t=e.value,n=t.indexOf(",");if(0===e.value.length)return;if(","==e.value)return t="0,00",void(e.value=t);if(n<0)return t=`${t},00`,e.value=t,n=t.indexOf(","),void addDots(t,e);0===n&&(t=`0${t}`,e.value=t);let s=e.value.length-n;return 2==s?(t=`${t}0`,e.value=t,void addDots(t,e)):1==s?(t=`${t}00`,e.value=t,void addDots(t,e)):void addDots(t,e)}function setMasks(){masks=document.getElementsByClassName("money-mask");for(let e in masks)masks[e].addEventListener("focus",t=>{document.addEventListener("input",t=>{inputRestrict(masks[e],t)})}),masks[e].addEventListener("blur",function(){createMask(masks[e])})}function fieldValue(e){let t=document.getElementById(e);t.hasClass("field-mask")}document.addEventListener("DOMContentLoaded",e=>{setMasks()});
